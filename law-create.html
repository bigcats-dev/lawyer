<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>ระบบสำนวนคดี</title>
        <link rel="icon" type="image/x-icon" href="images/law-logo.avif">
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="css/bootstrap-datepicker.min.css"/>
        <link href="css/select2.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="css/select2-bootstrap-5-theme.min.css" />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Sarabun:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0" />
        <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"/>   
        <link href="css/style.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <div class="menu-mb">
            <div class="top">
                <img src="images/logo.png" alt="" class="menux-close">
                <img src="images/logo.png" alt="" class="menux-logo">
            </div>
            <div class="user"> 
                <div class="avatarx">
                    <img src="images/3_avatar-512.webp" alt="" class="">
                    <h6>User Name</h6>
                </div>
                <div class="dropdown user-dropdown">
                    <a href="#" class="dropdown-toggle" data-bs-toggle="dropdown">
                    <span class="material-symbols-outlined more-vert">
                    more_vert
                    </span>
                    </a>
                    <div class="dropdown-menu">
                        <a href="#" class="dropdown-item">My profile</a>
                        <a href="#" class="dropdown-item">Settings</a>
                        <a href="login.html" class="dropdown-item">Logout</a> 
                    </div>
                </div>
            </div>
            <div class="menu">
                <ul>
                    <li class="active">
                        <a href="#"> 
                        <i>Dashboard</i>
                        <span class="material-symbols-rounded">
                        dashboard
                        </span>
                        </a>
                    </li>
                    <li class="sub">
                        <div> 
                            <i>Menu</i>
                            <span class="material-symbols-rounded">
                            group
                            </span>
                        </div>
                        <ul>
                            <li class="active"><a href="#">Sub menu 1</a></li>
                            <li><a href="#">Sub menu 2</a></li>
                            <li><a href="#">Sub menu 3</a></li>
                            <li><a href="#">Sub menu 4</a></li>
                        </ul>
                    </li> 
                </ul>
            </div>
        </div>
        <div class="backdp"></div>
        <div class="menu"> 
            <div class="logo-expand">
                <a href="#">
                <img src="images/logo.png" alt="logo">
                </a>
            </div>
            <h3>ระบบสำนวนคดี</h3>
            <div class="menu-dib" id="menu-container"></div>
        </div>
        <div id="nav-top-placeholder"></div> 
        
        
        <main>
            <div class="container-fluid p-0">
                <div class="navi-map">
                    <span>Home</span>
                    <span>/</span>
                    <a href="#">เพิ่มรายการคดี</a>
                </div>   
                <div class="row justify-content-center">
                    <div class="col-lg-12 bg-white p-4 shadow rounded">
                        <!-- ข้อมูลพื้นฐาน -->
                        <div class="mb-4">
                            <h6>ข้อมูลติดต่อ</h6>
                            <hr>
                            <div class="row g-3">
                                <div class="col-md-4">
                                    <label class="form-label">หมายเลขคดีดำ</label>
                                    <input type="text" class="form-control"/>
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">หมายเลขคดีแดง</label>
                                    <input type="text" class="form-control"/>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label">ชื่อศาล</label>
                                    <select class="form-select" data-live-search="true">
                                        <option selected disabled>ชื่อศาล</option>
                                        <option>ศาลฎีกา</option>
                                        <option>ศาลอุทธรณ์</option>
                                        <option>ศาลจังหวัด</option>
                                        <option>ศาลแขวง</option>
                                        <option>ศาลเยาวชนและครอบครัว</option>
                                        <option>ศาลปกครอง</option>
                                        <option>ศาลรัฐธรรมนูญ</option>
                                        <option>ศาลทหาร</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label">ประเภทคดี</label>
                                    <select class="form-select" data-live-search="true">
                                        <option selected disabled>เลือกประเภทคดี</option>
                                        <option>คดีแพ่ง</option>
                                        <option>คดีอาญา</option>
                                        <option>คดีแรงงาน</option>
                                        <option>คดีปกครอง</option>
                                        <option>คดีรัฐธรรมนูญ</option>
                                        <option>คดีล้มละลาย</option>
                                        <option>คดีภาษีอากร</option>
                                        <option>คดีเยาวชนและครอบครัว</option>
                                        <option>คดีทรัพย์สินทางปัญญาและการค้าระหว่างประเทศ</option>
                                        <option>คดีสิ่งแวดล้อม</option>
                                    </select>
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">ชื่อโจทก์</label>
                                    <input type="text" class="form-control" />
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">ชื่อจำเลย</label>
                                    <input type="text" class="form-control"/>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label">ค่าธรรมเนียมศาล (บาท)</label>
                                    <input type="text" class="form-control"/>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label">ค่าส่งคำคู่ความ (บาท)</label>
                                    <input type="text" class="form-control"/>
                                </div>
                                <div class="col-md-12">
                                    <label class="form-label">เรื่อง</label>
                                    <textarea class="form-control" rows="4"></textarea>
                                </div>
                            </div> 
                            <br>
                            <div id="appointment-list">
                                <!-- นัดครั้งแรก -->
                                <h6>วันนัด</h6>
                                <hr>
                                <div class="row g-3 mb-3 appointment-item">
                                    <div class="col-12">
                                        <h6 class="appointment-title">นัดครั้งที่ 1</h6>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">วันที่นัด</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" placeholder="เลือกวันที่...">
                                            <span class="input-group-text"><i class="fas fa-calendar-alt"></i></span>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">เวลา</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" placeholder="เลือกเวลา...">
                                            <span class="input-group-text"><i class="fas fa-clock"></i></span>
                                        </div>
                                    </div>
                                    <div class="col-md-5">
                                        <label class="form-label">นัดเพื่อ</label>
                                        <input type="text" class="form-control" placeholder="เช่น สอบพยาน / พิจารณาคดี">
                                    </div>
                                    <div class="col-md-1 d-flex align-items-end">
                                        <!-- รายการแรกไม่มีปุ่มลบ -->
                                    </div>
                                </div>
                            </div>
                            <button id="add-appointment" class="btn btn-primary mt-2">
                                <i class="fas fa-plus"></i> เพิ่มการนัด
                            </button>

                            <br>
                            <br>
                            
                            
                            <h6>สิ่งที่ต้องทำ/ติดตาม</h6>
                            <hr>
                            <div id="task-list"> 
                                <div class="row g-3 mb-2 task-item">
                                    <div class="col-md-12 d-flex align-items-center">
                                        <input type="text" class="form-control me-2" placeholder="งาน 1"> 
                                    </div>
                                </div>
                            </div> 
                            <button id="add-task" class="btn btn-primary mt-2">
                            <i class="fas fa-plus"></i> เพิ่มงาน
                            </button>
                            <hr>
                            
                            <div class="row g-3 mb-3">
                                <div class="col-md-6">
                                    <label class="form-label">Link โฟลเดอร์สำนวน</label>
                                    <input type="text" class="form-control"/>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">ไฟล์แนบ</label>
                                    <input type="file" class="form-control"/>
                                </div> 
                                <div class="col-12"><hr> </div>
                            </div>
                        </div>    
                        <div class="text-center">
                            <button class="btn btn-outline-primary">ยกเลิก</button>
                            <button class="btn btn-primary">บันทึก</button>
                        </div>
                    </div>
                </div> 
            </div>
        </main>
   
        <script src="js/jquery.slim.min.js"></script> 
        <script src="js/jquery.min.js"></script>
        <script src="js/popper.min.js" ></script>
        <script src="js/bootstrap.bundle.min.js"></script>
        <script src="js/select2.min.js"></script>
        <script src="js/bootstrap-datepicker.min.js"></script>
        <script src="js/bootstrap-datepicker.th.min.js"></script>   
        <script src="js/apexcharts.js"></script>
        <script src="js/chart.js"></script>
        <script src="js/menu.js"></script>
        <script src="js/navTop.js"></script>
        <script>
            $(document).ready(function() {
            	$( '.form-select' ).select2( {
            		theme: "bootstrap-5"
            	} ); 
            });
            $('.menu ul li.sub').click(function(){      
            	$(this).toggleClass("active");   
            	$("body").removeClass("expand");  
            }); 
            $('.menu-expand').click(function(){     
            	$("body").toggleClass("expand");  
            }); 
            
            $('.menux').click(function(){     
            	$(".menu-mb").addClass("active");
            	$("body").addClass("active");      
            	$('.menu-mb').animate({'left': '0'}, 600);
            }); 
            $('.backdp').click(function(){     
            	$(".menu-mb").removeClass("active");  
            	$("body").removeClass("active");    
            	$('.menu-mb').animate({'left': '-120%'}, 300); 
            }); 
            $('.menux-close').click(function(){    
            	$(".menu-mb").removeClass("active");  
            	$("body").removeClass("active");    
            	$('.menu-mb').animate({'left': '-120%'}, 300); 
            });
            
            
            
        </script>

        
                
        
        <script>
            document.addEventListener("DOMContentLoaded", function () {
            const appointmentList = document.getElementById("appointment-list");
            const addBtn = document.getElementById("add-appointment");

            function updateTitles() {
            const items = document.querySelectorAll(".appointment-item");
            items.forEach((item, index) => {
                const title = item.querySelector(".appointment-title");
                title.textContent = "นัดครั้งที่ " + (index + 1);

                const btnCol = item.querySelector(".col-md-1");
                if (index === 0) {
                // รายการแรก ไม่มีปุ่มลบ
                btnCol.innerHTML = '';
                } else {
                // รายการอื่น เพิ่มปุ่มลบเล็กๆ
                btnCol.innerHTML = `
                    <button class="btn btn-sm btn-danger remove-appointment w-100">
                    <i class="fas fa-trash"></i>
                    </button>`;
                }
            });

            // bind ลบ
            bindRemoveButtons();
            }

            addBtn.addEventListener("click", function () {
            const firstItem = appointmentList.querySelector(".appointment-item");
            const newItem = firstItem.cloneNode(true);

            // reset ค่า input
            newItem.querySelectorAll("input").forEach(input => input.value = "");

            // เพิ่ม item ใหม่
            appointmentList.appendChild(newItem);

            updateTitles();
            });

            function bindRemoveButtons() {
            const removeBtns = document.querySelectorAll(".remove-appointment");
            removeBtns.forEach(btn => {
                btn.onclick = function () {
                if (document.querySelectorAll(".appointment-item").length > 1) {
                    btn.closest(".appointment-item").remove();
                    updateTitles();
                }
                };
            });
            }

            // init
            updateTitles();
        });
        </script>

        
        <script>
        document.addEventListener("DOMContentLoaded", function () {
            const taskList = document.getElementById("task-list");
            const addBtn = document.getElementById("add-task");

            function updatePlaceholders() {
            const items = document.querySelectorAll(".task-item input");
            items.forEach((input, index) => {
                input.placeholder = "งาน " + (index + 1);
            });
            }

            addBtn.addEventListener("click", function () {
            const firstItem = taskList.querySelector(".task-item");
            const newItem = firstItem.cloneNode(true);

            // reset ค่า input
            const input = newItem.querySelector("input");
            input.value = "";

            // เพิ่มปุ่มลบ สำหรับรายการใหม่
            const wrapper = newItem.querySelector(".col-md-12");
            wrapper.innerHTML = `<input type="text" class="form-control me-2" placeholder=""><button class="btn btn-sm btn-danger remove-task"><i class="fas fa-trash"></i></button>`;

            taskList.appendChild(newItem);
            updatePlaceholders();
            bindRemoveButtons();
            });

            function bindRemoveButtons() {
            const removeBtns = document.querySelectorAll(".remove-task");
            removeBtns.forEach(btn => {
                btn.onclick = function () {
                btn.closest(".task-item").remove();
                updatePlaceholders();
                };
            });
            }

            // init
            updatePlaceholders();
        });
        </script>

    </body>
</html>